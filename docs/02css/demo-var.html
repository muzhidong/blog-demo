<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CSS变量</title>
  <meta key="desc" content="CSS变量帮助你的CSS代码保持较好的可维护性。暴露可变性给使用者，而不是让使用者硬改，比如主题">
</head>
<body>
  <h3>嵌入样式定义CSS变量</h3>
  <style>
    .embed {
      /* 嵌入样式定义CSS变量 */
      --a: 100px;
      --b: calc(var(--a) / 2);
      --c: calc(var(--b) * 2);
      width: var(--c);
      /* var功能符第二参数为默认值 */
      height: var(--d, 100px);
      background: goldenrod;
    }
  </style>
  <div class="embed"></div>

  <h3>JS定义CSS变量</h3>
  <style>
    .btn {
      position: relative;
      padding: 1em 2em;
      border: none;
      color: white;
      font-size: 1.2em;
      background: #f72359;
      border-radius: 100px;
      overflow: hidden;
      cursor: pointer;
      outline: none;
      appearance: none;
    }

    .btn::before {
      --size: 0;  
      content: '';
      position: absolute;
      left: var(--x);
      top: var(--y);
      width: var(--size);
      height: var(--size);
      transform: translate(-50%, -50%);
      /* 写法transition: width,height .2s ease;是不生效的 */
      transition: width .2s ease, height .2s ease;
      /* 渐变结束时的形状为圆形，且与容器距离渐变中心点最近的一边相切 */
      background: radial-gradient(circle closest-side, #4405f7, transparent);
    }

    .btn:hover::before {
      --size: 400px;
    }
  </style>
  <button class="btn"></button>
  <script>
    document.querySelector('.btn').addEventListener('mousemove',(e) => {
      const x = e.pageX - e.target.offsetLeft
      const y = e.pageY - e.target.offsetTop
      e.target.style.setProperty('--x', `${ x }px`)
      e.target.style.setProperty('--y', `${ y }px`)
    })
  </script>

  <h3>内联样式定义CSS变量</h3>
  <style>
    .inline {
      display: inline-block;
      width: calc(var(--i) * 10px);
      height: var(--j, 100px);
      background-color: palegreen;
    }
  </style>
  <div class="inline" style="--i:10;"></div>
</body>
</html>
